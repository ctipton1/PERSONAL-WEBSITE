/* ================================
   Font (ChatGPT-style: Inter)
================================== */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');


:root{
  --bg:#f3f4f6;
  --panel:#ffffff;
  --ink:#2b2b2b;
  --muted:#e5e7eb;
  --line:rgba(0,0,0,.14); 
  --accent:#2f6f4e;
  --btn:#1f2937;

  /* Spacing scale */
  --space-1: 0.25rem;  /* 4px  */
  --space-2: 0.5rem;   /* 8px  */
  --space-3: 0.75rem;  /* 12px */
  --space-4: 1rem;     /* 16px */
  --space-5: 1.5rem;   /* 24px */
  --space-6: 2rem;     /* 32px */
  --space-7: 3rem;     /* 48px */
  --space-8: 4rem;     /* 64px */

  --radius:16px;
  --maxw:1100px;
}


/* Dark theme: apply when <html data-theme="dark"> */
html[data-theme="dark"]{
  --bg:#0f1720;
  --panel:#111827;
  --ink:#e5e7eb;
  --muted:#1f2937;
  --line:rgba(255,255,255,.18); /* ↑ clearer borders in dark mode */
  --accent:#7dd3a7;
  --btn:#e5e7eb;
}


/* ================================
   Reset-ish + Base Typography
================================== */
*{ box-sizing:border-box }
html,body{ height:100% }

body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
  line-height:1.6;
}

h1,h2,h3,h4{
  font-weight:700;
  letter-spacing:.2px;
  margin:0 0 .5rem;
}

p{ margin:.5rem 0 1rem }

img{
  max-width:100%;
  display:block;
  border-radius:12px;
}


/* ================================
   Layout Helpers
================================== */
/* (removed legacy .container with vertical padding) */

.section{ padding-block: var(--space-8); }

/* Vertical rhythm: give consistent gaps between children */
.stack > * + *{ margin-top: var(--space-5); }

.site-header{
  position:sticky; top:0; z-index:10;
  background: rgba(255, 255, 255, 0.2);  /* white with 20% opacity */
  backdrop-filter: blur(6px);            /* optional: glassy look */
  border-bottom: 1px solid var(--line);
  display:flex; 
  align-items:center; 
  justify-content:space-between;
  padding:.8rem 1rem;
}


/* ================================
   Header / Navigation
================================== */
.logo{
  font-weight:700;
  letter-spacing:.3px;
  color:var(--ink);
  text-decoration:none;
}

.nav{
  display:flex;
  gap:1rem;
}

.nav a{
  padding:.4rem .7rem;
  border-radius:10px;
  text-decoration:none;
  color:var(--ink);
  font-weight:400;                 /* normal weight by default */
}

.nav a:hover{
  background:var(--muted);         /* soft gray hover background */
}

/* Keyboard focus ring */
.nav a:focus-visible {
  background: color-mix(in oklab, var(--muted) 60%, white);
  text-decoration: none;
}


/* UPDATED: active link is bold instead of underlined */
.nav a.active{
  font-weight:700;                 /* bold text for active page */
  background:transparent;          /* keep background clean */
  color:var(--btn);                /* match your button color */
}

.nav-toggle{
  display:none;
  font-size:1.2rem;
  background:none;
  border:1px solid var(--line);
  padding:.2rem .5rem;
  border-radius:8px;
}


/* ===== Hero (centered, tidy, responsive) ===== */
.hero{
  /* removed manual margin-top to use global spacing system */
  padding: 3rem 1.25rem;
  background: transparent;
  box-shadow: none;
  border: 0;
  border-radius: 0;
}

.hero .intro{
  /* consolidate duplicate rules */
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  margin-top: 0;
  max-width: 900px;
  margin-inline: auto;
}

.hero h1{
  font-size: clamp(2.25rem, 6vw, 3.5rem);
  line-height: 1.15;
  margin: 0 0 .5rem 0;
}

.hero .sub{
  opacity: .9;
  max-width: 60ch;
  margin: 0 0 1rem 0;
}

.hero .headshot{
  width: 160px;
  aspect-ratio: 1 / 1;
  border-radius: 50%;
  margin-bottom: 1rem;
  object-fit: cover;
  box-shadow: 0 4px 12px rgba(0,0,0,.15);
  border: 4px solid var(--panel, #fff);
}

.hero .social-links{
  margin: .5rem 0 1rem;
  display: flex;
  gap: .75rem;
  flex-wrap: wrap;
  justify-content: center;
  font-size: 1.05rem;     /* ~16.8px (+5%) */
  line-height: 1.3;
}

/* —— Keep your original social links exactly as is —— */
.hero .social-links{
  margin:0.5rem 0 1rem;
  display:flex;
  gap:0.75rem;
  flex-wrap:wrap;
  justify-content:center;
}

.hero .intro .btn{
  margin-top: 1.5rem; /* space above resume button */
}

.cta-row{
  display: flex;
  gap: .75rem;
  margin-top: 1rem;
  flex-wrap: wrap;          /* prevents overflow on small screens */
  justify-content: center;  /* keeps buttons centered */
}

/* Small-screen refinements */
@media (max-width: 480px){
  .hero{ padding: 2.25rem 1rem; }
  .hero .headshot{ width: 128px; }
  .cta-row{ gap: .6rem; }
}

/* Motion respect (optional) */
@media (prefers-reduced-motion: reduce){
  .hero .social-links a{ transition: none; }
}



.card{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:1rem;
  box-shadow:0 6px 20px rgba(0,0,0,.06); /* a touch more visible in light */
}

/* Dark theme shadow tune */
html[data-theme="dark"] .card{
  box-shadow: 0 8px 24px rgba(0,0,0,.35);
}


.btn{
  display:inline-block;
  padding:.7rem 1rem;
  background: var(--btn);
  border:1px solid var(--btn);
  border-radius:12px;
  text-decoration:none;
  cursor:pointer;
  font-weight:600;
  color:#fff; /* default: works when --btn is dark (light theme) */
}

/* Token-aware hover darken */
.btn:hover{
  background: color-mix(in oklab, var(--btn) 85%, black);
  color:#fff;
}

/* Ensure readable text when --btn is light in dark mode */
html[data-theme="dark"] .btn{
  color:#111; /* high contrast on the light button */
}

/* Fallback if color-mix is unsupported */
@supports not (color-mix(in oklab, red 50%, white)) {
  .btn:hover{ background:#111; }
}


/* Focus state */
.btn:focus-visible,
.btn-icon:focus-visible,
#timeline-mount .xp-scope .button:focus-visible {
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--btn) 40%, white);
  outline: none;
}

/* === Icon-only button variant === */
.btn-icon{
  width:40px;
  height:40px;
  padding:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:1.2rem;
}

/* === Theme toggle icon visibility === */
#theme-toggle .icon-sun { display:none; }   /* hidden by default (light mode) */
html[data-theme="dark"] #theme-toggle .icon-moon { display:none; }
html[data-theme="dark"] #theme-toggle .icon-sun  { display:inline; }


/* UPDATED: links now use --btn instead of --accent */
.text-link{
  color:var(--btn);
  text-decoration:none;
  font-weight:600;
}

.text-link:hover{ color:var(--btn); text-decoration:underline }

/* Focus state */
.text-link:focus-visible {
  text-decoration: underline;
}

/* ================================
   Forms
================================== */
.form{ display:grid; gap:1rem }
label span{ display:block; font-weight:600; margin-bottom:.25rem }
input,textarea{
  width:100%;
  padding:.7rem .8rem;
  border:1px solid var(--line);
  border-radius:10px;
  background: var(--panel);
  color: var(--ink);
}


/* Focus state */
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--btn) 35%, white);
  border-color: color-mix(in oklab, var(--btn) 55%, black);
}



/* ================================
   Grids
================================== */
.grid{ display:grid; gap:1rem; margin:1.25rem 0 }
.grid.two{ grid-template-columns:repeat(2,minmax(0,1fr)) }
.grid.three{ grid-template-columns:repeat(3,minmax(0,1fr)) }


/* ================================
   Portfolio & Certificates
================================== */
.project h3{ margin-top:.6rem }
.cert{
  display:grid;
  grid-template-columns:72px 1fr;
  gap:1rem;
  align-items:center;
}


/* ================================
   Responsive (Mobile)
================================== */
@media (max-width: 860px){
  .grid.two{ grid-template-columns:1fr }
  .grid.three{ grid-template-columns:1fr }
  .nav{ display:none }
  .nav.open{
    display:flex; flex-direction:column;
    position:absolute; right:1rem; top:3.2rem;
    background:var(--panel);
    padding:.6rem;
    border:1px solid var(--line);
    border-radius:12px;
    box-shadow:0 8px 24px rgba(0,0,0,.08);
  }
  .nav-toggle{ display:inline-block }
}


/* ===== Contact Section (separate spacing/look) ===== */
/* removed margin-top and big padding to defer to global spacing */
.contact-section {
  display: block;
  text-align: center;
}

.contact-section .section-title {
  font-size: 2.5rem;
  margin: 0 auto 1rem;
  font-weight: 700;
  color: var(--ink);
}

.contact-section .form {
  max-width: 640px;
  margin: 2rem auto 0;
  display: grid;      /* added once here */
  gap: 1rem;          /* spacing between form elements */
}

.contact-section .form label { 
  display: grid; 
  gap: .5rem; 
  text-align: left; 
}

.contact-section .form input,
.contact-section .form textarea { 
  width: 100%; 
  margin: 0;          /* normalize */
}

.contact-section .form button { 
  margin: 0;          /* normalize */
}

/* 1) Timeline lists: scope styles so they don't touch the contact form */
.xp-timeline ul.description { 
  margin: .5rem 0 0; 
  padding-left: 1.25rem; 
  list-style: disc;
}
.xp-timeline ul.description li { 
  margin: .25rem 0; 
}


/* ===== About Page ===== */
/* removed page-level padding to defer to global spacing */
.about-page {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.about-title {
  text-align: center;
  font-size: 2.5rem;
  margin-bottom: 2.5rem;
  font-weight: 700;
}

.about-card {
  max-width: 900px;
  padding: 3rem;
  margin: 0 auto;
   font-size: 1.125rem; /* ~18px (was default ~16px) */
  line-height: 1.7; 
}


/* ===== Skills Grid ===== */
/* removed big section padding to defer to global spacing */
.skills-section {
  margin-top: 4rem;
  text-align: center;
}

.skills-title {
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 2rem;
}

.skills-grid {
  --card-bg: var(--panel, rgba(0,0,0,0)); /* transparent by default */
  display: grid;
  gap: 1rem;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  max-width: 900px;
  margin: 0 auto;
}

@media (min-width: 640px) {
  .skills-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
}
@media (min-width: 960px) {
  .skills-grid { grid-template-columns: repeat(4, minmax(0, 1fr)); }
}

.skill {
  background: var(--card-bg);
  border: 1px solid var(--line);
  border-radius: 14px;
  padding: 1.25rem 1rem;
  display: grid;
  place-items: center;
  gap: .5rem;
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
  will-change: transform;
}

.skill i {
  font-size: 2rem;            /* icon size */
  line-height: 1;
}
.skill span {
  font-weight: 600;
  font-size: .95rem;
}

.skill:hover {
  transform: translateY(-6px) scale(1.03);
  box-shadow: 0 10px 26px rgba(0,0,0,.12);
  border-color: color-mix(in oklab, var(--line) 60%, var(--ink));
}

/* Fallback if color-mix unsupported */
@supports not (color-mix(in oklab, red 50%, white)) {
  .skill:hover { border-color: #9aa2af; }
}

/* Dark mode tweak (if you use prefers-color-scheme) */
@media (prefers-color-scheme: dark) {
  .skill { 
    border-color: rgba(255,255,255,.1);
    background: rgba(255,255,255,.03);
  }
  .skill:hover {
    box-shadow: 0 10px 26px rgba(0,0,0,.35);
    border-color: rgba(255,255,255,.18);
  }
}

/* ===== Skills: brand + icon handling ===== */
.skill {
  --icon-size: 28px;
  --ring: color-mix(in oklab, var(--line) 65%, transparent);
}

/* Brand logos */
.skill img.brand-icon{
  width: var(--icon-size);
  height: var(--icon-size);
  object-fit: contain;
  display: block;
}

/* Generic icon (Bootstrap Icons) */
.skill i.bi{
  font-size: calc(var(--icon-size) + 2px);
  line-height: 1;
}

/* Subtle hover polish for desktop only */
@media (hover:hover){
  .skill:hover{
    transform: translateY(-4px);
    box-shadow: 0 10px 22px rgba(0,0,0,.12);
    border-color: color-mix(in oklab, var(--btn) 22%, var(--line));
  }
}

/* Optional tiny caption under the skill label */
.skill small {
  display:block;
  font-weight:500;
  opacity:.7;
  font-size:.8rem;
  margin-top:-.1rem;
}


/* ================================
   Experience — Timeline Cards
   (clean, modern, accessible)
================================ */
.xp-section{
  margin-top: 6rem;
  padding: 3.5rem 1.25rem 4rem;
}

.xp-title{
  text-align: center;
  font-size: clamp(1.6rem, 2.8vw, 2.2rem);
  font-weight: 700;
  margin: 0 auto 2rem;
  color: var(--ink);
}

/* Timeline scaffold */
.xp-timeline{
  list-style: none;
  margin: 0;
  padding: 0;
  position: relative;
  display: grid;
  gap: 1.15rem;
}

/* Vertical spine */
.xp-timeline::before{
  content: "";
  position: absolute;
  left: 22px; top: 0; bottom: 0;
  width: 2px;
  background:
    radial-gradient(color-mix(in oklab, var(--ink) 35%, transparent) 2px, transparent 3px)
    0 0 / 2px 16px repeat-y;
  opacity: .6;
}

/* Card */
.xp-item{
  position: relative;
  background: var(--panel, #fff);
  border: 1px solid var(--line, rgba(0,0,0,.14));
  border-radius: 16px;
  padding: 1.1rem 1.1rem 1rem 1.25rem;
  box-shadow: 0 8px 26px rgba(0,0,0,.06);
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
  padding-left: 3.25rem;         /* room for node + spine */
}

/* Node on the spine */
.xp-item::before{
  content: "";
  position: absolute;
  left: 14px; top: 1.25rem;
  width: 16px; height: 16px; border-radius: 50%;
  background: var(--panel, #fff);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--btn) 70%, black);
}

/* Hover */
@media (hover:hover){
  .xp-item:hover{ transform: translateY(-3px); box-shadow: 0 14px 34px rgba(0,0,0,.10); }
}

/* Header */
.xp-header{
  display: grid;
  gap: .35rem;
  margin-bottom: .6rem;
  border-bottom: 1px dashed color-mix(in oklab, var(--line) 70%, transparent);
  padding-bottom: .65rem;
}
.xp-role{
  font-weight: 700;
  font-size: clamp(1.05rem, 1.2vw, 1.25rem);
  letter-spacing: .2px;
  line-height: 1.25;
}
.xp-meta{
  display: flex; flex-wrap: wrap;
  gap: .75rem 1rem;
  font-size: .96rem;
  opacity: .95;
}
.xp-org, .xp-date{ display: inline-flex; align-items: center; gap: .4rem; }
.xp-meta .bi{ font-size: 1.05em; color: currentColor; }

/* Bullets */
.xp-points{
  list-style: none;
  margin: .25rem 0 0;
  padding: 0;
  display: grid; gap: .45rem;
  font-size: 1rem; line-height: 1.55;
}
.xp-points li{
  position: relative;
  padding-left: 1.15rem;
}
.xp-points li::before{
  content: "";
  position: absolute;
  left: 0; top: .62em;
  width: 6px; height: 6px; border-radius: 50%;
  background: color-mix(in oklab, var(--btn) 80%, white);
  box-shadow: 0 0 0 2px color-mix(in oklab, var(--btn) 20%, transparent);
}

/* Variants */
.xp-item.current::after{
  content: "CURRENT";
  position: absolute; top: .6rem; right: .7rem;
  font-size: .7rem; font-weight: 800; letter-spacing: .6px;
  padding: .18rem .42rem; border-radius: 999px;
  background: color-mix(in oklab, var(--btn) 88%, white);
  color: #fff;
}
.xp-item.edu::before{ box-shadow: 0 0 0 3px color-mix(in oklab, #3366ff 70%, black); } /* node color for education */

/* Dark mode spine visibility (optional) */
html[data-theme="dark"] .xp-timeline::before{
  opacity: .9;
  background:
    radial-gradient(color-mix(in oklab, var(--ink) 55%, transparent) 2px, transparent 3px)
    0 0 / 2px 16px repeat-y;
}

/* Responsive width container (optional, if you have a .container elsewhere) */
.xp-section .container,
.xp-section{ max-width: 1100px; margin-inline: auto; }


/* Dark mode: slightly stronger dots */
html[data-theme="dark"] .xp-cards.timeline::before{
  background:
    radial-gradient(
      color-mix(in oklab, var(--ink) 55%, transparent) 2px,
      transparent 2.5px
    ) 50% 0 / 2px 16px repeat-y;
}


/* Dark mode tune */
html[data-theme="dark"] .xp-card{ box-shadow: 0 12px 32px rgba(0, 6, 15, 0.45); }


/* Reset: remove outlines unless it's keyboard nav */
:focus { outline: none; }

/* Default focus ring for keyboard users */
:focus-visible {
  outline: 2px solid color-mix(in oklab, var(--btn) 80%, white);
  outline-offset: 2px;
  border-radius: 8px;
}

/* Nav links */
.nav a:focus-visible {
  background: color-mix(in oklab, var(--muted) 60%, white);
  text-decoration: none;
}

/* Buttons (regular, icon, timeline) */
.btn:focus-visible,
.btn-icon:focus-visible,
#timeline-mount .xp-scope .button:focus-visible {
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--btn) 40%, white);
  outline: none;
}

/* Text links in copy */
.text-link:focus-visible {
  text-decoration: underline;
}

/* Form fields */
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--btn) 35%, white);
  border-color: color-mix(in oklab, var(--btn) 55%, black);
}

/* Fallback for browsers without color-mix support */
@supports not (color-mix(in oklab, red 50%, white)) {
  :focus-visible { outline-color: #2563eb; }
  .btn:focus-visible,
  .btn-icon:focus-visible,
  #timeline-mount .xp-scope .button:focus-visible {
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.4);
  }
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.35);
    border-color: #2563eb;
  }
}


/* Keep anchored sections from hiding under sticky header */
:root { --header-h: 64px; } /* will be updated by JS to real height */
section[id] { scroll-margin-top: calc(var(--header-h) + 16px); }
html { scroll-behavior: smooth; } /* smooth jump for anchor-like scrolls */


.xp-bullets {
  margin: 0.25rem 0 0;
  padding-left: 1.25rem;
}

.xp-bullets li { margin: .25rem 0; }


/* ===== Skills — Capsule Badges (elegant, logo-first) ===== */
.skills-grid.capsules{
  display:flex; flex-wrap:wrap;
  gap:.6rem .6rem;
  max-width:980px; margin:0 auto;
}

.capsule{
  display:flex; align-items:center; gap:.6rem;
  padding:.55rem .85rem;
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: 999px;
  box-shadow: 0 6px 18px rgba(0,0,0,.06);
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease, background-color .18s ease;
}

.capsule img.brand-icon{
  width:18px; height:18px; object-fit:contain;
  display:block;
  filter: grayscale(1) contrast(1.05) opacity(.9);
}

.capsule .label{
  font-weight:600; font-size:.92rem; line-height:1.2;
}

/* Hover: subtle lift + colorize logos (desktop only) */
@media (hover:hover){
  .capsule:hover{
    transform: translateY(-2px);
    border-color: color-mix(in oklab, var(--btn) 24%, var(--line));
    box-shadow: 0 10px 24px rgba(0,0,0,.10);
    background: color-mix(in oklab, var(--panel) 92%, var(--btn));
  }
  .capsule:hover img.brand-icon{ filter:none; opacity:1; }
}

/* Focus ring for keyboard users */
.capsule:focus-visible{
  outline: 2px solid color-mix(in oklab, var(--btn) 80%, white);
  outline-offset: 2px;
}

/* Compact & roomy density toggles (optional) */
.skills-grid.capsules.compact .capsule{ padding:.45rem .7rem; gap:.5rem }
.skills-grid.capsules.roomy .capsule{ padding:.68rem 1rem }

/* Dark mode polish */
html[data-theme="dark"] .capsule{
  box-shadow: 0 10px 26px rgba(0,0,0,.35);
}
html[data-theme="dark"] .capsule:hover{
  background: color-mix(in oklab, var(--panel) 85%, var(--btn));
}

/* Motion safety */
@media (prefers-reduced-motion: reduce){
  .capsule{ transition: none; }
}

/* Center the capsule grid rows */
.skills-grid.capsules{
  justify-content: center;              /* centers items on each wrapped row */
}

/* ===== Capsule shape: TICKET (side notches) ===== */
.skills-grid.capsules.ticket .capsule{
  --notch: 12px;                        /* notch radius; try 10–16px */
  border: none;                         /* we'll simulate the border with inset shadow */
  border-radius: 16px;

  /* Rectangle with two circular cut-outs using mask (cross-browser) */
  -webkit-mask:
    radial-gradient(var(--notch) at left 50%, transparent 98%, #000 99%) 0/50% 100% no-repeat,
    radial-gradient(var(--notch) at right 50%, transparent 98%, #000 99%) 100%/50% 100% no-repeat,
    linear-gradient(#000 0 0);
  mask:
    radial-gradient(var(--notch) at left 50%, transparent 98%, #000 99%) 0/50% 100% no-repeat,
    radial-gradient(var(--notch) at right 50%, transparent 98%, #000 99%) 100%/50% 100% no-repeat,
    linear-gradient(#000 0 0);

  /* Simulated border + your soft drop shadow */
  box-shadow:
    0 0 0 1px var(--line) inset,
    0 6px 18px rgba(0,0,0,.06);

  /* Extra padding so text doesn’t collide with notches */
  padding-left: calc(.85rem + var(--notch));
  padding-right: calc(.85rem + var(--notch));
}

/* Hover (elegant): keep your lift & color, adjust inset “border” color */
@media (hover:hover){
  .skills-grid.capsules.ticket .capsule:hover{
    box-shadow:
      0 0 0 1px color-mix(in oklab, var(--btn) 24%, var(--line)) inset,
      0 10px 24px rgba(0,0,0,.10);
  }
}

/* Optional: per-item escape hatch (use .no-notch on a single capsule) */
.skills-grid.capsules.ticket .capsule.no-notch{
  -webkit-mask: none; mask: none;
  box-shadow: 0 6px 18px rgba(0,0,0,.06);
  border: 1px solid var(--line);
  padding-left: .85rem; padding-right: .85rem;
}

/* Ensure the icon always matches surrounding text */
.sub,
.sub .bi{
  color: inherit;          /* inherit from parent text color */
}

/* Optional: if your buttons/links contain icons, make them match too */
.btn .bi,
a .bi{
  color: currentColor;     /* same as the text color of the element */
}

/* (Nice-to-have) align & space the icon with the text */
.sub{
  display: inline-flex;
  align-items: center;
  gap: .4rem;
}

/* ================================
   Alternating Left/Right Timeline
   (centered logo, collapsed by default, no caret)
================================ */
.lr-section{
  /* removed old per-section padding to defer to global spacing */
  max-width: 1200px;           /* a bit wider to fit wider cards */
  margin-inline:auto;
}

.lr-section .section-title{
  text-align:center;
  font-size: clamp(1.6rem, 2.8vw, 2.2rem);
  font-weight: 700;
  margin: 0 0 1.25rem 0;       /* tidier spacing above the timeline */
  color: var(--ink);
}

/* spine */
.lr-timeline{
  list-style:none; margin:0; padding:0; position:relative;
  /* slight top breathing room under the title */
  padding-top: .25rem;
}
.lr-timeline::before{
  content:"";
  position:absolute; top:0; bottom:0; left:50%;
  width:2px; transform: translateX(-50%);
  background:
    radial-gradient(color-mix(in oklab, var(--ink) 35%, transparent) 2px, transparent 3px)
    0 0 / 2px 16px repeat-y;
  opacity:.65;
}

/* items alternate sides on desktop */
.lr-item{ position:relative; margin: 1rem 0; }
.lr-card{
  width: min(600px, calc(50% - 32px)); /* wider cards */
  background: var(--panel, #fff);
  border:1px solid var(--line, rgba(0,0,0,.14));
  border-radius:16px;
  box-shadow: 0 8px 24px rgba(0,0,0,.06);
  padding: 0; /* summary/panel handle their own padding */
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
  overflow: clip;
}
@media (hover:hover){
  .lr-card:hover{ transform: translateY(-2px); box-shadow: 0 14px 34px rgba(0,0,0,.10); }
}

.lr-item:nth-child(odd) .lr-card{ margin-right:auto; }
.lr-item:nth-child(even) .lr-card{ margin-left:auto; }

/* node dot on the spine */
.lr-item::after{
  content:"";
  position:absolute; left:50%; top: 22px; transform: translate(-50%, 0);
  width:16px; height:16px; border-radius:50%;
  background: var(--panel, #fff);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--btn) 70%, black);
}

/* remove the spine-pointer “triangle” entirely */
.lr-card::before{ content:none !important; }

/* summary row — stacked, centered */
.lr-summary{
  list-style: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align:center;
  gap: .5rem;
  padding: 1rem 1rem .85rem;
  cursor: pointer;
}
/* hide default details marker in all browsers */
.lr-summary::-webkit-details-marker{ display: none; }
.lr-summary::marker{ content:""; }

/* Logo chip (circle) with per-logo controls */
.lr-logo{
  --logo-d: 54px;           /* chip diameter */
  --logo-pad: 6px;          /* inner padding */
  --logo-scale: 1;          /* zoom (1 = none) */
  --logo-pos-x: 50%;        /* object-position controls */
  --logo-pos-y: 50%;
  --logo-shift-x: 0px;      /* fine translation AFTER scaling */
  --logo-shift-y: 0px;

  width: var(--logo-d);
  height: var(--logo-d);
  border-radius: 50%;
  display: grid;
  place-items: center;
  overflow: hidden;
  border: 1px solid var(--line, rgba(0,0,0,.14));
  background: var(--panel);
  box-sizing: border-box;
}

.lr-logo img{
  width: 100%;
  height: 100%;
  object-fit: contain;   /* key: never crop */
  object-position: var(--logo-pos-x) var(--logo-pos-y);
  padding: var(--logo-pad);
  transform: translate(var(--logo-shift-x), var(--logo-shift-y)) scale(var(--logo-scale));
  transform-origin: 50% 50%;
  display: block;
}


/* Handy presets if you prefer classes over inline vars */
.lr-logo.wide { --logo-pad: 10px; }       /* very horizontal logos */
.lr-logo.tall { --logo-pad: 4px; --logo-scale: 1.08; } /* very vertical marks */


/* title + org */
.lr-title{ min-width:0; }
.lr-role{
  display:block; font-weight:700;
  font-size: clamp(1.05rem, 1.2vw, 1.3rem);
  line-height:1.25;
}
.lr-org{ opacity:.95; font-size:.98rem; }

/* meta line (date · location), centered */
.lr-meta{
  display:flex; align-items:center; gap:.6rem; flex-wrap:wrap;
  font-size:.95rem; opacity:.9;
}
.lr-sep{ opacity:.4; }

/* expanded panel */
.lr-panel{
  display: grid;
  grid-template-rows: 0fr;
  transition: grid-template-rows .25s ease, opacity .25s ease;
  opacity: 0;
}
.lr-card[open] .lr-panel{
  grid-template-rows: 1fr;
  opacity: 1;
}
.lr-panel-inner{
  overflow: hidden;           /* enables the 0fr → 1fr trick */
  padding: .75rem 1rem 1rem;
  text-align: left;
}

/* description + bullets */
.lr-desc{ margin:.25rem 0 .4rem 0; line-height:1.55; }
.lr-points{
  list-style:none; padding:0; margin:0; display:grid; gap:.35rem;
  font-size:1rem; line-height:1.55;
}
.lr-points li{ position:relative; padding-left:1.05rem; }
.lr-points li::before{
  content:""; position:absolute; left:0; top:.62em;
  width:6px; height:6px; border-radius:50%;
  background: color-mix(in oklab, var(--btn) 80%, white);
  box-shadow: 0 0 0 2px color-mix(in oklab, var(--btn) 20%, transparent);
}

/* tag chips */
.lr-chips{ display:flex; flex-wrap:wrap; gap:.35rem; margin-top:.55rem; }
.chip{
  font-size:.75rem; line-height:1; padding:.28rem .5rem;
  border-radius:999px;
  border:1px solid var(--line, rgba(0,0,0,.14));
  background: color-mix(in oklab, var(--panel) 90%, white);
  color: color-mix(in oklab, var(--ink) 85%, transparent);
}

/* CURRENT pill — top-right inside the card */
.lr-item.current .lr-card::after{
  content:"CURRENT";
  position:absolute; top:.5rem; right:.6rem;
  font-size:.68rem; font-weight:800; letter-spacing:.6px;
  padding:.18rem .42rem; border-radius:999px; white-space:nowrap;
  background: color-mix(in oklab, var(--btn) 88%, white); color:#fff;
}

/* education node color variant (optional) */
.lr-item.edu::after{ box-shadow: 0 0 0 3px color-mix(in oklab, #3366ff 70%, black); }

/* mobile: single column, spine shifts left */
@media (max-width: 780px){
  .lr-timeline::before{ left: 28px; transform:none; }
  .lr-card{ width: auto; margin-left: 60px; }
  .lr-item:nth-child(even) .lr-card{ margin-left: 60px; } /* both sides same */
  .lr-item::after{ left: 28px; }
}
@media (prefers-reduced-motion: reduce){
  .lr-card{ transition: none; }
  .lr-panel{ transition: none; }
}

/* ===== Experience card: light grey gradient background ===== */
.lr-card{
  background: linear-gradient(
    180deg,
    color-mix(in oklab, var(--panel) 92%, #eeeeee) 0%,
    color-mix(in oklab, var(--panel) 86%, #dddddd) 100%
  );
}

/* Dark theme: subtle dark gradient */
html[data-theme="dark"] .lr-card{
  background: linear-gradient(
    180deg,
    color-mix(in oklab, var(--panel) 96%, #000) 0%,
    color-mix(in oklab, var(--panel) 90%, #000) 100%
  );
}

/* ===== Combine description + points into one box (no HTML change) ===== */
/* Top half of the group (description) */
.lr-desc{
  margin: .6rem 0 0;                 /* sits right under the summary */
  padding: .85rem 1rem;
  border: 1px solid var(--line);
  border-bottom: 0;                   /* join with the list below */
  border-radius: 12px 12px 0 0;       /* rounded top only */
  background: color-mix(in oklab, var(--panel) 96%, white);
  line-height: 1.6;
}

/* Bottom half of the group (points) */
.lr-points{
  margin: 0 0 .25rem;                 /* closes the group */
  padding: .5rem .85rem;
  border: 1px solid var(--line);
  border-top: 0;                      /* shares border with desc */
  border-radius: 0 0 12px 12px;       /* rounded bottom only */
  background: color-mix(in oklab, var(--panel) 98%, white);
  display: grid;
  gap: 0;                              /* we’ll use separators instead */
}


/* Dark theme polish for the group */
html[data-theme="dark"] .lr-desc{
  background: color-mix(in oklab, var(--panel) 88%, black);
}
html[data-theme="dark"] .lr-points{
  background: color-mix(in oklab, var(--panel) 92%, black);
}

/* ===== Chips: center only (keep current look) ===== */
.lr-chips{
  justify-content: center;   /* center line */
  margin-top: .85rem;
}

/* === Baseline-aligned bullets using native markers === */
.lr-points{
  list-style: disc outside;                 /* use real bullets */
  padding: .5rem 1rem .5rem 1.25rem;        /* left indent for marker */
  display: grid;
  gap: 0;                                   /* keep your row separators tidy */
}

.lr-points li{
  padding-left: 0;                           /* no extra indent */
}

.lr-points li::before{
  content: none !important;                  /* kill any custom bullet */
}


/* Optional: ensure marker uses text color */
.lr-points li::marker{
  color: currentColor;
}



/* Larger vertical padding so each band breathes */
.section{
  padding-block: clamp(4rem, 10vh, 8rem); /* bigger than --space-8 */
}

/* Add a large gap between sections */
.section + .section{
  margin-block-start: clamp(3rem, 8vh, 6rem);
  border-top: 1px solid var(--line);          /* subtle divider */
  scroll-margin-top: 6rem; /* nicer anchor jumps if using a navbar */
}

/* Optional: alternate backgrounds for contrast */
.section:nth-of-type(odd){ background: #fff; }
.section:nth-of-type(even){ background: var(--bg); }

/* Optional: angled/soft separator look */
.section + .section{
  background:
    linear-gradient(to bottom, transparent 0, transparent 24px, rgba(0,0,0,.06) 25px, transparent 26px) no-repeat;
  background-size: 100% 26px;
}


/* === Pattern A: Sections own vertical space (standardize spacing) === */

/* 1) Containers = width + horizontal padding only */
.container{
  max-width: var(--maxw);
  margin: 0 auto;
  padding-inline: 1rem;  /* keep horizontal padding */
  padding-block: 0;      /* remove vertical padding from container */
}

/* 2) Global spacing knobs (edit these two to adjust the whole site) */
:root{
  --section-pad: clamp(4.5rem, 12vh, 8rem);   /* more inner padding per section */
  --section-gap: clamp(3rem, 10vh, 7rem); /* larger gap between sections */
  --stack-gap: var(--space-5);
}


/* 3) Normalize your existing sections to use the same system */
:where(.hero.section-screen,
       .skills-section,
       .lr-section,
       .contact-section){
  padding-block: var(--section-pad) !important;  /* unify vertical padding */
  margin: 0;                                     /* clear ad-hoc margins */
  border-top: 0;
}

:where(.hero.section-screen,
       .skills-section,
       .lr-section,
       .contact-section):not(:first-of-type){
  margin-block-start: var(--section-gap);
  border-top: 0; /* no divider */
}


/* 5) Keep inner vertical rhythm consistent everywhere */
.stack > * + *{ margin-top: var(--stack-gap); }

/* === Global section spacing applied to ALL pages === */
main.container > :where(section, article, .section-block, .about-page){
  padding-block: var(--section-pad) !important;  /* inner spacing for top blocks */
  margin: 0;
}

main.container > :where(section, article, .section-block, .about-page):not(:first-child){
  margin-block-start: var(--section-gap) !important;        /* space between top blocks */
  /* no divider line */
}

/* Page-level spacing presets (switch with a <body> class) */
.page-cozy{
  --section-pad: clamp(3.5rem, 9vh, 6.5rem);
  --section-gap: clamp(2.5rem, 8vh, 5.5rem);
}
.page-standard{
  --section-pad: clamp(4.5rem, 12vh, 8rem);
  --section-gap: clamp(3rem, 10vh, 7rem);
}
.page-spacious{
  --section-pad: clamp(6rem, 16vh, 11rem);
  --section-gap: clamp(4rem, 14vh, 9rem);
}


.portfolio-section .section-title {
  text-align: center;
}
